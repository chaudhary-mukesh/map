<!DOCTYPE html>
<html lang="en">
<head>
    <title>Document</title>
    <style>
            .cls-1 {
        fill: none;
        stroke: #ffffff;
        stroke-miterlimit: 2;
        stroke-width: 0.5px;
        transform-box: fill-box;
          transition: transform 0.3s ease, filter 0.3s ease;
  transform-origin: center;
      }
      .cls-1:hover {
  transform: scale(1.02);
  z-index: 10 !important;
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.4));
}

.color-dark{
fill: #472b2b;
transform: scale(0.98);
}


.color-light-grey{
    fill: #727272;
    transform: scale(0.98);
}
 circle {
      transition: transform 0.2s ease;
    }

  .map-dot {
      fill: #ff3f7a;
      stroke: white;
      stroke-width: 1;
      pointer-events: all;
      transition: transform 0.2s ease;
      transform-box: fill-box;     /* Critical for scaling correctly in SVG */
      transform-origin: center;    /* Ensures scaling is centered */
      cursor: pointer;
    }
.map-dot:hover {
  transform: scale(1.2);
}

    .zoomed {
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.5));
    }

    g.region {
      transition: transform 0.6s ease;
      transform-origin: center;
    }
    g.region-group {
  transition: transform 0.6s ease;
  transform-origin: center;
}

    .region-group.hover path {
  transform: scale(1.02);
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.4));
}
.region path {
  /* fill: #444; */
  stroke: #fff;
  stroke-width: 0.5;
  transition: transform 0.3s ease, filter 0.3s ease;
  transform-origin: center;
  transform-box: fill-box;
}

    
       .controls {
      position: absolute;
      bottom: 10px;
      right: 10px;
      display: flex;
      flex-direction: column;
    }

    .controls button {
      margin: 2px 0;
      padding: 10px;
      font-size: 18px;
      background: #333;
      color: white;
      border: none;
      cursor: pointer;
    }

    .controls button:hover {
      background: #555;
    }
    .main-div{
        position: relative;
    }
    #map:active {
  cursor: grabbing;
}

#map {
  cursor: default; 
}


.mini-map {
  position: absolute;
  bottom: 10px;
  left: 10px;
  border: 1px solid #ccc;
  background: white;
  z-index: 100;
}

#viewportRect {
  pointer-events: none;
  stroke: red;
  stroke-width: 1;
  fill: rgba(255, 0, 0, 0.1);
}

.region.hover path {
  transform: scale(1.02);
  filter: drop-shadow(0 3px 6px rgba(0, 0, 0, 0.4));
}

.region-group {
    transition: transform 0.3s ease;
    transform-box: fill-box;
    transform-origin: center;
    cursor: pointer;
  }

  .region-group:hover {
    transform: scale(1.02);
  }

     .cls-2 {
        fill: none;
        stroke: #000;
        stroke-miterlimit: 10;
        stroke-width: .5px;
      }
      .cls-4 {
        fill: #231f20;
        font-family: MyriadPro-Regular, 'Myriad Pro';
        font-size: 12px;
      }

      .color-one{
        fill: #c63763;
        /* color: #c63763; */
      }
      .color-two{
        color: #8a1537;
      }
      .color-three{
        color: #402023;
      }



      .card {
  width: 300px;
  border-radius: 10px;
  color: white;
  font-family: Arial, sans-serif;
  margin: 20px auto;
  text-align: center;
  overflow: hidden;
  position: relative;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.card-header {
  font-size: 12px;
  text-transform: uppercase;
  padding: 10px 0;
  font-weight: bold;
}

.card-image {
  padding: 0 15px; 
}

.card-image img {
  width: 100%;
  height: auto;
  display: block;
}

.card-content {
  padding: 15px;
}

.card-title {
  font-weight: bold;
  margin-bottom: 10px;
}

.card-details {
  font-size: 14px;
  line-height: 1.6;
}

    </style>
</head>

<body>
  <div style="display: flex;">
  

<div style="width: 70%; border:2px solid black" class="main-div">
<svg xmlns="http://www.w3.org/2000/svg" id="map" data-name="Layer 1" viewBox="0 0 556 440">
    
  <g id="map-wrapper">
    <g class="name1 region region-group" id="region1">
    <path class="cls-1 color-light-grey" d="M345.1,294.74v-8.27l13.81-3.41v-9.56l5.31-5.31h3.19l1.06-1.06c3.19-2.12,3.19-4.78,3.19-7.69v-5.05l5.31-8.5h7.92c1.75,0,3.44.59,4.8,1.69l3.2,2.56,18.05-1.06c3.59-.17,6.37,0,6.37,5.31l1.06,2.12s6.37,6.37,27.61,6.37l8.5,2.12s7.43,5.31,8.5,13.81h-5.31l-9.56,8.5c-2.7,1.8-8.5,4.25-14.87,4.25-3.67,0-10.62,3.19-10.62,3.19h-5.86l-9.01,8.5-6.37,5.31-7.43,1.06-2.71-1.63c-1.73-1.04-3.55-1.91-5.44-2.6l-5.12-1.88c-1.76-.88-3.64-1.47-5.59-1.75l-4.5-.64-.92-.46c-2.21-1.1-4.11-2.12-6.51-2.72l-5.31-2.12-12.74-1.06Z"/>
      <text class="cls-4" transform="translate(379.92 271.89)"><tspan x="0" y="0">East Sussex</tspan></text>
    <circle cx="405" cy="304" r="3" class="map-dot color-one" data-project="ashford"></circle>
        <!-- <circle cx="410" cy="281" r="3" class="map-dot"></circle>
        <circle cx="403" cy="268" r="3" class="map-dot"></circle>    -->
        
    </g>

        <path class="cls-1 color-dark" d="M283.5,257.58l25.49-3.19,30.8-6.37,9.56-2.12h27.22l.39-14.87-.41-1.66c-.42-1.7-.39-3.47.11-5.15l.3-1.02,2.12-10.22c-5.31,0-9.09-2.12-12.58-3.43l-12.74-4.25c-1.61-.2-6.63-4.47-10.28-7.47-2.24-1.84-4.74-3.34-7.42-4.46l-9-3.75-6.37-6.37-6.06,7.44-1.85,5.39-6.17,3.28c-1.51.76-3.23,3.23-4.62,4.62-.93.93-1.98,1.74-3.22,2.15l-4.63,1.54-9.56,9.56,5.77,3.13.07,5.63c.07.47-.15,2.63-.53,2.92,0,0-1.97,2.12-3.94,2.17l-1.19.03-3.36-2.21,1.06,11.68v7.43l2.12,6.37-1.06,3.19Z"/>

    <g class="name1 region region-group" id="region2"> 
    <path class="cls-1 color-dark" d="M376.95,245.89v-14.87l-.29-1.31c-.51-2.64-.36-3.52.29-6.12l2.12-10.62,3.19-3.19s-.56-6.88,5.31-12.74c6.37-6.37,7.43-9.56,7.43-9.56l2.74-6.4c.22-.52.88-.67,1.31-.31l3.23,2.69c1.5,1.25,1.46,1.36,3.34,1.9l1.97.76c1.5-.5,3.15.67,4.53,1.43.74.41,1.49.73,2.28.6l3.96-1.72s19.11-2.12,24.42,0c-1.06,2.12-2.12,3.19-2.12,3.19l10.62,1.06,2.15,2.87c.65.87,1.68,1.38,2.77,1.38h3.58l6.37,4.25s11.68,2.12,11.2,8.8c-.14,1.97.85,2.77,2.6,1.82,5.64-3.07,9.39-3.33,10.91-3.26.84.03,1.69-.01,2.53-.09l13.3-.95,15.73-1c2.12-1.06,8.57-1.17,9.56,0,1.47,1.74,3.12,3.25,1.06,8.49-.6,1.52-2.36,3.1-3.96,3.44-.81.17-1.29.4-1.79.57-.37.13-.59.49-.53.88l3.1,19.55c0,4.25-1.06,8.5-4.18,10.04l-5.38,1.64c-1.29,1.08-4.29,1.73-6.38,2.42-1.21.4-2.38.91-3.49,1.53l-8.18,4.54h-6.37c-5.7.91-11.21,4.02-13.71,9.77l-.21,6.35c2.24,9.36-4.12,7.93-8.41,7.42l-10.59-2.31-.61-2.9c-.28-.83-.63-1.63-1.05-2.39-1.6-2.9-4.35-8.63-10.02-9.57l-5.31-1.06c-.81-.2-5.54.08-6.37,0l-10.41-1.52c-1.58-.36-2.99-.81-4.1-1.39l-6.54-3.36c-1.24-1.15-1.24-2.22-1.24-2.22l-.23-2.82c-.49-1.47-1.9-2.44-3.45-2.37l-20.74.94-1.06-1.06c-1.06-1.06-4.16-2.75-6.08-3.16-.4-.09-.79-.18-1.15-.22l-7.64.19Z"/>
    <text class="cls-4" transform="translate(428.92 230.89)"><tspan x="0" y="0">Kent</tspan></text>
    <circle cx="380" cy="221" r="3" class="map-dot color-one"></circle>
        <circle cx="400" cy="247" r="3" class="map-dot color-one"></circle>
        <circle cx="435" cy="202" r="3" class="map-dot color-one"></circle>
        <circle cx="465" cy="247" r="3" class="map-dot color-one"></circle>
    </g>


    <g class="name1 region region-group" id="region3"> 
      <path class="cls-1 color-light-grey" d="M345.05,294.59l.05-8.34,13.81-3.19v-9.56l5.31-5.31h3.49l2.2-2.37c1.12-1.21,1.74-2.79,1.74-4.44v-7.11l5.31-8.38h-27.61l-10.62,2.12-30.8,6.37-24.42,3.19-6.37,3.19-7.43,10.62-4.25,10.62,2.8,6.9-1.73,13.53,8.5,2.93,5.31,4.25c1.14.65,5.38.85,6.37,0l3.88-5.43c.9-1.26,2.35-2.01,3.9-2.01l4.88-.4,9.56-3.19,22.34-.82,13.81-3.19Z"/>
      <text class="cls-4" transform="translate(301.92 269.89)"><tspan class="cls-11" x="0" y="0">West Sussex</tspan></text>
      <circle cx="363" cy="266" r="3" class="map-dot color-one"></circle>
      <circle cx="330" cy="279" r="3" class="map-dot color-one"></circle>
      <circle cx="340" cy="256" r="3" class="map-dot color-one"></circle>
    </g>   
    <path class="cls-1 color-light-grey" d="M378.6,213.43l-17.58-5.76c-1.63-.45-7.43-1.06-13.82-6.46-.88-.74-1.73-1.53-2.49-2.45l-9.14-5.6c-.74-.37-1.4-.71-2.09-.95l-3.25-1.53c-.92-.31-3.8-1.33-4.25-2.12l-8.19-7.62c-2.61-2.12-3.39-4.86-3.21-8.11l1.84-14h21.24l8.5-4.25c0-2.12,1.07-1.92,2.14-2.3l9.54-3.01,14.84-.16,1.57,3.15c.46,1.02,1.19,1.69,2.07,2.07,2.35,1,5.24,2.23,7.01,2.38l3.56.21c1.43.08,2.85.38,4.19.88l4.79,1.77c.67.18,1.26.57,1.92.76,1.08.32,1.98.82,3.59,1.69l2.65,1.14c3.73,2.04,2.66,5.23,1.6,7.35l-1.06,2.12-4.25,5.31-2.12,2.12c-.43.96-1.99,4.65-3.37,8.2l-5.27,6.77c-1.05,1.15-2.79,1.9-5.17,6.27-.11.2-1.16,2.41-1.85,4.45-.18.52-.27,1.07-.27,1.62v2.42s-3.66,3.64-3.66,3.64Z"/>
    <path class="cls-1 color-light-grey" d="M398.19,180.05l6.37,5.31,4.18,1.06,3.52,1.39c1.18.47,2.51.41,3.64-.16l2.46-1.23c1.69-.37,5.31,0,8.5-1.06l15.78.85,1.21-1.91,6.37,1.06,3.64,1.21c1.75.58,3.66.45,5.3-.38l1.67-.84,5.31-1.06,2.12-4.25,8.5-5.31c1.65-.99,2.3-3.46,1.23-5.06l-.17-.25v-6.37l1.05-1.57c.65-.98.65-2.25,0-3.23l-1.05-1.57h0c2.12-3.19.78-4.32.25-6.44l-.25-.99-4.25-2.12,8.5-1.06,6.78,2.61,8.19-1.14c1.34-.27,2.63-.72,3.84-1.36l4.85-2.54c1.19-.49,2.2-1.33,2.91-2.4l1.03-1.55,4.25-4.25c2.84-3.65,4.25-5.31.8-8.22l-1.87-1.34v-2.12l-10.62-5.31h-13.81l-6.37-2.12c-1.96-.62-4.25-.9-6.28-.58l-9.88,1.53c-.52.07-1.04-.12-1.38-.51l-7.94-8.93-4.08-1.51c-2.69-.97-4.56-2.56-5.7-4.61l-1.9-2.38h-5.31l-6.22-2.71c-1.39-.94-3.2-1.01-4.66-.18l-5.05,2.88-12.3,1.87c-.96.16-1.95-.07-2.75-.64l-6.19-4.42h-9.56l-3.3,4.7c-2.01,2.73-3.23,1.82-4.72.7l-6.85-5.4-5.31,6.37,7.43,9.56,5.77,8.58,2.73,2.04c5.31,1.06,5.31,2.12,5.64,7.7l.44,3.98-3.96,6.38-10.62,3.19-7.43,5.31,1.27,2.92c1.25,1.56,2.92,2.73,4.81,3.36l3.47,1.16h4.18c.89,0,1.78.15,2.62.45,1.06.37,2.3.85,2.73,1.01l11.71,4.91c3.19,1.06,3.5,4.87,2.45,7.22l-3.51,5.52-4.25,4.25Z"/>
    <path class="cls-1 color-dark" d="M310.05,128.24l8.5,9.82,8.5-3.27,2.12-1.09v-5.45l-3.61-7.37c-1.04-2.12-.76-4.65.72-6.5l1.83-2.29,15.93-1.3v-7.19l1.06-2.12c0-1.06,2.12-2.12,3.19-2.12l4.25,1.06,5.31,2.12,15.01-.1,12.03,16.66c1.02,1.7,2.62,2.93,4.46,3.62l2.54.95c1.29.74,2.16,2.05,2.2,3.6l.8,7.2-4.12,6.3-10.62,3.19-7.43,5.02-14.87.29-8.92,2.68c-1.08.32-2.76.51-2.49,2.09l-.27.54-8.5,4.25h-21.24l-5.4-2.85c-3.1-1.4-5.26-5.65-2.03-8.83l1.98-1.46c1.2-2.79-.4-4.54-2.51-5.44l-11.16-3.27-1.06-4.36,13.81-4.36Z"/>
    <path class="cls-1 color-light-grey" d="M197.14,176.66h12.44l6.88,6.26h10.34l16.5,4.17h7.17l6.79,3.13,8.19,1.52,1.89,1.43c1.36,1.01,4.34.82,5.55-.37l4.25-5.31-3.19-8.5-5.31-4.25-2.78-4.34v-4.17h3.67l4.43-4.23v-7.43l-4.25-4.25c-2.12-2.12-4.04-2.99-7.25-2.67l-8.68-.52-4.4-.95c-2.61-.75-3.92-1.94-5.16-4.36l-1.06-4.25,1.43-4.64c.35-.86,1.42-1.15,2.15-.58l.59.43c1.29.94,3.06.91,4.31-.1l2.4-1.93-.23-21.54c-.02-1.53-.58-2.98-1.56-4.1-.71-.82-1.75-1.27-2.83-1.39l-.74-.08-16.9,8.76c-1.65.86-3.64-.26-3.77-2.11l-.79-10.82-1.04-18.19-4.31-4.31c-.54-.54-1.43-.51-1.94.07l-8.33,8.74-15.03,19.38-8.62,13.28-.92,3.22c-.93,3.25-.9,6.7.07,9.94.85,2.86,1.84,5.87,1.92,7.01l.02,21.5,8.13,16.52Z"/>
    <path class="cls-1 color-dark" d="M111.47,254.39l10.65.77c3.1.59,5.23,1.66,6.16,3.92l6.56,13.36h9.68l3.07-3.19c1.69-.9,2.99-1.11,3.71-.61l2.2,1.29c.37.49.39.46.95.91l3.76,5.84,4.25-2.12v-6.37l3.19-3.19-5.43-5.92-1.63-2.44c-.1-.78.11-1.22.62-1.38l10.68-.89,12.42,6.86,7.76,1.65c3.08,0,7.43,0,6.37-5.31l2.12-13.81c.3-3.07,0-6.37-3.77-7.24l-2.6-.19-1.06-7.43-2.99-3.8c-.7-.84-.59-2.08.24-2.78l4.87-1.92,7.43-8.5,2.12-8.5c0-6.37-1.06-8.5-1.06-15.93l-4.3-10.73-8.25-16.51c-.08-.16-.4-.29-.69-.2l-5.86,1.95-9.56-1.06-8.5,2.12c-4.33,2.36-4.59,1.28-7.06-.2l-1.44-1.92c-2.12-2.12-2.09-1.78-4.25-1.06l-4.25,2.12-3.19,2.12h-8.5l-4.25,4.25-.11.27c-.18,3.99-2.92,6.28-7.39,5.84l-3,.44-.88.46c-1.83.92-3.1,2.82-3.09,4.76,0,.2.03.39.07.59l.59,4.63-1.06,31.86,5.31,3.19v7.43l-5.31,9.56v5.71c.4,1.88-.48,3.49-2.39,4.22l-2.92,1.75v5.31Z"/>
    <path class="cls-1 color-light-grey" d="M200.67,211.91l20.18-2.12h27.61l36.11,7.43,9.56-9.56,6.23-2.29,4.91-4.91c.31-.32.59-.6,1.19-1.06l6.41-3.47,1.52-5.2-5.74-4.23-.08-.2c-.76-1.86-2.52-3.05-4.43-3.15-.81-.05-1.62.18-2.35.53l-1.28.61-1.37,1.67c-2.88,1.52-3.94.46-4.76-1.23l-.25-1.5v-3.15c0-.7-.3-1.36-.83-1.82l-.46-.41c-1.16-1.02-2.62-1.64-4.16-1.78l-.36-.03c-1.74-.16-3.49.24-5,1.13l-2.31,1.37-5.71.36c-.67.04-1.1.72-.86,1.34l2.71,7.24-3.02,4.53c-.25.38-.68.83-1.18,1.27-1.49,1.28-3.69,1.29-5.26.11l-2.22-1.66-7.43-1.06-7.67-3.42h-6.34l-16.42-4.15-11.07-.21-7.4-6.54-11.63.5,4.23,10.39,1.06,16.34-2.1,8.32Z"/>
    <path class="cls-1 color-dark" d="M186.87,308.55l7.43,1.77,7.43-6.02h7.67l5.08-2.12,1.06-8.5-3.19-8.5,11.68,3.19,4.25,5.31,12.74,7.43,8.5,1.06,7.43-1.06,9.56,1.06,1.06-12.74-.98-4.76c-.73-1.71-.76-3.65-.07-5.38l3.17-7.91,7.43-10.62,6.37-3.19,1.06-3.19-2.12-6.37v-7.43l-1.06-7.43v-4.25l3.19,2.12h1c1.42,0,2.79-.49,3.88-1.39l.9-.73v-8.5l-5.77-3.19-36.11-7.43h-27.84l-19.95,2.12-6.92,8.5-5.51,2.43c-.69.38-.82,1.31-.27,1.86l3.14,4.2,1.06,7.43h3.19c2.12,1.06,3.1,2.92,2.97,5.81l-1.87,17.88c-.02.47-.24.91-.59,1.21l-.78.67c-.67.57-1.54.85-2.42.77l-8.35-.75c-.78-.07-1.53-.31-2.2-.71l-7.72-4.61c-2.24-1.44-4.88-2.12-7.54-1.95l-7.64.48c-.9.14-1.3,1.22-.7,1.91l7.12,7.97,2.12,2.12c2.72,1.93,2.74,5.3,2.05,8.56l-3.12,13.74,12.74,4.25,1.28.85c2.98,1.71,3.96,4.56,5.09,9.77l1.06,4.25Z"/>
    <path class="cls-1 color-light-grey" d="M43.5,312.44l2.1-2.22c.78-.83,1.88-1.3,3.02-1.3h1.73c.59,0,1.17.2,1.63.56l.2.16c.57.44,1.26.7,3.02.8l5.68.3,3.26,1.7,17.59,9.5,12.51,10.52c.55.47.42,2.19.3,3.6-.08,1.04.12,2.08.59,3.01l1.47,2.92h4.25l4.25-7.39v-3.17l-3.46-3.17c-.48-.63-.53-1.49-.12-2.18l2.11-1.77,5.72-.27,6.74,1.41,3.88.7h9.56l12.74,6.33,4.39-.1,2.04-1.35c.74-.49,1.62-.75,2.52-.73l2.73.06,3.19-2.11v-4.25l2.12-1.03c.64-.96,1.86-2.07,1.06-3.17-.35-.48-2.12-2.11-2.12-2.11v-3.17c.32-1.29,2.12-2.11,3.19-2.11h2.12l2.69-1.34c1.01-.5,2.16-.63,3.25-.35l2.56.64h5.36c.65,0,1.27-.26,1.73-.71l2.47-2.45h4.9l-.65-5.28-1.06-3.17c-1.06-3.17-2.12-5.28-7.43-7.39l-10.62-3.17,2.12-8.44c.94-2.79,1.91-5.74,1.49-8.66l-.2-1.37c-.15-1.03-.63-1.98-1.36-2.71l-3.11-3.09-3.19,3.17v6.33l-4.25,2.11-2.84-4.23c-.93-1.39-2.15-2.56-3.58-3.43l-.33-.2c-.79-.26-1.64-.27-2.43-.03-.52.16-.99.47-1.4.83l-3.23,2.84-9.46-.35-4.42-8.06c-2.73-6.69-2.15-7.36-8.42-8.48l-10.62-1.06-4.25,10.56,1.06,8.44-14.87,1.06-3.1-3.52c-1.43-1.14-3.21-1.76-5.04-1.76l-1.81,1.06c-.43,0-1.43.76-1.73,1.06l-2.12,3.17-.42,3.36c-.41,3.23-2.21,6.12-4.93,7.93l-2.08,1.38-7.43,1.06h-12.28c-1.01,0-2.02.1-3.01.3l-3.82.76-12.74-3.17,11.68,13.72-1.06,12.67Z"/>
    <path class="cls-1 color-dark" d="M314.31,190.75l6.18-7.35-4.07-3.34c-1.93-2.69-1.5-6.28-1.08-9.32l1.06-11.68-6.35-3.42-2.03-2.78c-.72-1.58-.61-3.42.29-4.9l2.58-2.5c1.29-2.59.68-3.39-1.9-4.69l-8.5-3.19-2.12-1.06c-1.85-1.85-2.43-3.28,0-4.25l3.19-1.06,7.97-2.99c.22-.08.25-.38.06-.51l-15.32-10.21c-.08-.06-.09-.17-.03-.24l5.19-4.11,1.06-26.55,1.58-4.74c1.04-2.43,1.19-5.14.43-7.67l-1.88-6.23c-.07-.24-.34-.36-.56-.23l-5.26,3.01c-.98.56-2.24.28-2.89-.65l-.24-.35c-1.11-1.7-2.53-1.89-3.89-.21l-5.42,4.3c-1.16,1.45-2.01,3.27-1.98,5.19l.07,3.96-6.56,19.36-3.58,3.83c-.22.22-.61.07-.61-.25v-10.82h-15.58l-2.21-1.9c-.12-.11-.31-.05-.36.1l-3.07,10.13,3.58,1.46c1.09,1.27,1.72,2.77,1.74,4.34l.27,21.32-1.06,1.06c-1.34.68-2.86,3.11-5.6,1.24l-1.07-.58c-.06-.6-1.36.08-1.51.07l-1.67,5.24,1.06,3.19c.35,3.1,3.18,5.07,6.24,5.43l3.31.95h8.5c3.23-.43,6.58.98,8.49,3.71l3.19,3.72v7.43l-4.25,4.25h-4.25v4.25l3.19,4.25,5.31,4.25,6.97-.65,3.21-1.38c1.57-.67,3.29-.91,4.98-.67l.45.06c1.1.15,2.13.61,2.98,1.32h0c1.26.68,1.65,1.92,1.59,3.45v2.12c.27,3.9,3.24,4.57,5.31,2.12l1.25-1.12,1.42-.47s1.56-.52,1.57-.52c1.06,0,2.9.17,4.01,1.47l1.22,2.31,3.23,2.05,2.16,1.67Z"/>
  </g>
  <text class="cls-4" transform="translate(95.92 302.89)"><tspan class="cls-12" x="0" y="0">Dorset</tspan></text>
  <text class="cls-4" transform="translate(202.92 259.89)"><tspan x="0" y="0">Hampshire</tspan></text>
  <text class="cls-4" transform="translate(131.92 209.89)"><tspan class="cls-8" x="0" y="0">Wiltshire</tspan></text>
  
  <text class="cls-4" transform="translate(310.92 234.89)"><tspan x="0" y="0">Surrey</tspan></text>
  <text class="cls-4" transform="translate(251.92 205.89)"><tspan class="cls-16" x="0" y="0">Berks</tspan></text>
  <text class="cls-4" transform="translate(208.92 148.89)"><tspan class="cls-3" x="0" y="0">Oxon</tspan></text>
  <text class="cls-4" transform="translate(264.92 131.89)"><tspan x="0" y="0">Bucks</tspan></text>
  <text class="cls-4" transform="translate(331.92 140.89)"><tspan x="0" y="0">Hearts</tspan></text>
  <text class="cls-4" transform="translate(417.92 154.89)"><tspan x="0" y="0">Essex</tspan></text>
  
  <text class="cls-4" transform="translate(344.92 170.89)"><tspan x="0" y="0">Greater </tspan><tspan x="0" y="10">London</tspan></text>
  
</svg>


<svg style="display: none;">
  <symbol id="mini-map-symbol" viewBox="0 0 556 440">
     <g id="map-wrapper">
    <g class="name1 region region-group" id="region1">
    <path class="cls-1 color-light-grey" d="M345.1,294.74v-8.27l13.81-3.41v-9.56l5.31-5.31h3.19l1.06-1.06c3.19-2.12,3.19-4.78,3.19-7.69v-5.05l5.31-8.5h7.92c1.75,0,3.44.59,4.8,1.69l3.2,2.56,18.05-1.06c3.59-.17,6.37,0,6.37,5.31l1.06,2.12s6.37,6.37,27.61,6.37l8.5,2.12s7.43,5.31,8.5,13.81h-5.31l-9.56,8.5c-2.7,1.8-8.5,4.25-14.87,4.25-3.67,0-10.62,3.19-10.62,3.19h-5.86l-9.01,8.5-6.37,5.31-7.43,1.06-2.71-1.63c-1.73-1.04-3.55-1.91-5.44-2.6l-5.12-1.88c-1.76-.88-3.64-1.47-5.59-1.75l-4.5-.64-.92-.46c-2.21-1.1-4.11-2.12-6.51-2.72l-5.31-2.12-12.74-1.06Z"/>
<circle cx="421" cy="230" r="6" class="map-dot"/>
        <circle cx="410" cy="240" r="6" class="map-dot" />
        <circle cx="421" cy="250" r="6" class="map-dot" />    
</g><path class="cls-1 color-dark" d="M376.95,245.89v-14.87l-.29-1.31c-.51-2.64-.36-3.52.29-6.12l2.12-10.62,3.19-3.19s-.56-6.88,5.31-12.74c6.37-6.37,7.43-9.56,7.43-9.56l2.74-6.4c.22-.52.88-.67,1.31-.31l3.23,2.69c1.5,1.25,1.46,1.36,3.34,1.9l1.97.76c1.5-.5,3.15.67,4.53,1.43.74.41,1.49.73,2.28.6l3.96-1.72s19.11-2.12,24.42,0c-1.06,2.12-2.12,3.19-2.12,3.19l10.62,1.06,2.15,2.87c.65.87,1.68,1.38,2.77,1.38h3.58l6.37,4.25s11.68,2.12,11.2,8.8c-.14,1.97.85,2.77,2.6,1.82,5.64-3.07,9.39-3.33,10.91-3.26.84.03,1.69-.01,2.53-.09l13.3-.95,15.73-1c2.12-1.06,8.57-1.17,9.56,0,1.47,1.74,3.12,3.25,1.06,8.49-.6,1.52-2.36,3.1-3.96,3.44-.81.17-1.29.4-1.79.57-.37.13-.59.49-.53.88l3.1,19.55c0,4.25-1.06,8.5-4.18,10.04l-5.38,1.64c-1.29,1.08-4.29,1.73-6.38,2.42-1.21.4-2.38.91-3.49,1.53l-8.18,4.54h-6.37c-5.7.91-11.21,4.02-13.71,9.77l-.21,6.35c2.24,9.36-4.12,7.93-8.41,7.42l-10.59-2.31-.61-2.9c-.28-.83-.63-1.63-1.05-2.39-1.6-2.9-4.35-8.63-10.02-9.57l-5.31-1.06c-.81-.2-5.54.08-6.37,0l-10.41-1.52c-1.58-.36-2.99-.81-4.1-1.39l-6.54-3.36c-1.24-1.15-1.24-2.22-1.24-2.22l-.23-2.82c-.49-1.47-1.9-2.44-3.45-2.37l-20.74.94-1.06-1.06c-1.06-1.06-4.16-2.75-6.08-3.16-.4-.09-.79-.18-1.15-.22l-7.64.19Z"/>
    <path class="cls-1 color-light-grey" d="M345.05,294.59l.05-8.34,13.81-3.19v-9.56l5.31-5.31h3.49l2.2-2.37c1.12-1.21,1.74-2.79,1.74-4.44v-7.11l5.31-8.38h-27.61l-10.62,2.12-30.8,6.37-24.42,3.19-6.37,3.19-7.43,10.62-4.25,10.62,2.8,6.9-1.73,13.53,8.5,2.93,5.31,4.25c1.14.65,5.38.85,6.37,0l3.88-5.43c.9-1.26,2.35-2.01,3.9-2.01l4.88-.4,9.56-3.19,22.34-.82,13.81-3.19Z"/>
    <path class="cls-1 color-dark" d="M283.5,257.58l25.49-3.19,30.8-6.37,9.56-2.12h27.22l.39-14.87-.41-1.66c-.42-1.7-.39-3.47.11-5.15l.3-1.02,2.12-10.22c-5.31,0-9.09-2.12-12.58-3.43l-12.74-4.25c-1.61-.2-6.63-4.47-10.28-7.47-2.24-1.84-4.74-3.34-7.42-4.46l-9-3.75-6.37-6.37-6.06,7.44-1.85,5.39-6.17,3.28c-1.51.76-3.23,3.23-4.62,4.62-.93.93-1.98,1.74-3.22,2.15l-4.63,1.54-9.56,9.56,5.77,3.13.07,5.63c.07.47-.15,2.63-.53,2.92,0,0-1.97,2.12-3.94,2.17l-1.19.03-3.36-2.21,1.06,11.68v7.43l2.12,6.37-1.06,3.19Z"/>
    <path class="cls-1 color-light-grey" d="M378.6,213.43l-17.58-5.76c-1.63-.45-7.43-1.06-13.82-6.46-.88-.74-1.73-1.53-2.49-2.45l-9.14-5.6c-.74-.37-1.4-.71-2.09-.95l-3.25-1.53c-.92-.31-3.8-1.33-4.25-2.12l-8.19-7.62c-2.61-2.12-3.39-4.86-3.21-8.11l1.84-14h21.24l8.5-4.25c0-2.12,1.07-1.92,2.14-2.3l9.54-3.01,14.84-.16,1.57,3.15c.46,1.02,1.19,1.69,2.07,2.07,2.35,1,5.24,2.23,7.01,2.38l3.56.21c1.43.08,2.85.38,4.19.88l4.79,1.77c.67.18,1.26.57,1.92.76,1.08.32,1.98.82,3.59,1.69l2.65,1.14c3.73,2.04,2.66,5.23,1.6,7.35l-1.06,2.12-4.25,5.31-2.12,2.12c-.43.96-1.99,4.65-3.37,8.2l-5.27,6.77c-1.05,1.15-2.79,1.9-5.17,6.27-.11.2-1.16,2.41-1.85,4.45-.18.52-.27,1.07-.27,1.62v2.42s-3.66,3.64-3.66,3.64Z"/>
    <path class="cls-1 color-light-grey" d="M398.19,180.05l6.37,5.31,4.18,1.06,3.52,1.39c1.18.47,2.51.41,3.64-.16l2.46-1.23c1.69-.37,5.31,0,8.5-1.06l15.78.85,1.21-1.91,6.37,1.06,3.64,1.21c1.75.58,3.66.45,5.3-.38l1.67-.84,5.31-1.06,2.12-4.25,8.5-5.31c1.65-.99,2.3-3.46,1.23-5.06l-.17-.25v-6.37l1.05-1.57c.65-.98.65-2.25,0-3.23l-1.05-1.57h0c2.12-3.19.78-4.32.25-6.44l-.25-.99-4.25-2.12,8.5-1.06,6.78,2.61,8.19-1.14c1.34-.27,2.63-.72,3.84-1.36l4.85-2.54c1.19-.49,2.2-1.33,2.91-2.4l1.03-1.55,4.25-4.25c2.84-3.65,4.25-5.31.8-8.22l-1.87-1.34v-2.12l-10.62-5.31h-13.81l-6.37-2.12c-1.96-.62-4.25-.9-6.28-.58l-9.88,1.53c-.52.07-1.04-.12-1.38-.51l-7.94-8.93-4.08-1.51c-2.69-.97-4.56-2.56-5.7-4.61l-1.9-2.38h-5.31l-6.22-2.71c-1.39-.94-3.2-1.01-4.66-.18l-5.05,2.88-12.3,1.87c-.96.16-1.95-.07-2.75-.64l-6.19-4.42h-9.56l-3.3,4.7c-2.01,2.73-3.23,1.82-4.72.7l-6.85-5.4-5.31,6.37,7.43,9.56,5.77,8.58,2.73,2.04c5.31,1.06,5.31,2.12,5.64,7.7l.44,3.98-3.96,6.38-10.62,3.19-7.43,5.31,1.27,2.92c1.25,1.56,2.92,2.73,4.81,3.36l3.47,1.16h4.18c.89,0,1.78.15,2.62.45,1.06.37,2.3.85,2.73,1.01l11.71,4.91c3.19,1.06,3.5,4.87,2.45,7.22l-3.51,5.52-4.25,4.25Z"/>
    <path class="cls-1 color-dark" d="M310.05,128.24l8.5,9.82,8.5-3.27,2.12-1.09v-5.45l-3.61-7.37c-1.04-2.12-.76-4.65.72-6.5l1.83-2.29,15.93-1.3v-7.19l1.06-2.12c0-1.06,2.12-2.12,3.19-2.12l4.25,1.06,5.31,2.12,15.01-.1,12.03,16.66c1.02,1.7,2.62,2.93,4.46,3.62l2.54.95c1.29.74,2.16,2.05,2.2,3.6l.8,7.2-4.12,6.3-10.62,3.19-7.43,5.02-14.87.29-8.92,2.68c-1.08.32-2.76.51-2.49,2.09l-.27.54-8.5,4.25h-21.24l-5.4-2.85c-3.1-1.4-5.26-5.65-2.03-8.83l1.98-1.46c1.2-2.79-.4-4.54-2.51-5.44l-11.16-3.27-1.06-4.36,13.81-4.36Z"/>
    <path class="cls-1 color-light-grey" d="M197.14,176.66h12.44l6.88,6.26h10.34l16.5,4.17h7.17l6.79,3.13,8.19,1.52,1.89,1.43c1.36,1.01,4.34.82,5.55-.37l4.25-5.31-3.19-8.5-5.31-4.25-2.78-4.34v-4.17h3.67l4.43-4.23v-7.43l-4.25-4.25c-2.12-2.12-4.04-2.99-7.25-2.67l-8.68-.52-4.4-.95c-2.61-.75-3.92-1.94-5.16-4.36l-1.06-4.25,1.43-4.64c.35-.86,1.42-1.15,2.15-.58l.59.43c1.29.94,3.06.91,4.31-.1l2.4-1.93-.23-21.54c-.02-1.53-.58-2.98-1.56-4.1-.71-.82-1.75-1.27-2.83-1.39l-.74-.08-16.9,8.76c-1.65.86-3.64-.26-3.77-2.11l-.79-10.82-1.04-18.19-4.31-4.31c-.54-.54-1.43-.51-1.94.07l-8.33,8.74-15.03,19.38-8.62,13.28-.92,3.22c-.93,3.25-.9,6.7.07,9.94.85,2.86,1.84,5.87,1.92,7.01l.02,21.5,8.13,16.52Z"/>
    <path class="cls-1 color-dark" d="M111.47,254.39l10.65.77c3.1.59,5.23,1.66,6.16,3.92l6.56,13.36h9.68l3.07-3.19c1.69-.9,2.99-1.11,3.71-.61l2.2,1.29c.37.49.39.46.95.91l3.76,5.84,4.25-2.12v-6.37l3.19-3.19-5.43-5.92-1.63-2.44c-.1-.78.11-1.22.62-1.38l10.68-.89,12.42,6.86,7.76,1.65c3.08,0,7.43,0,6.37-5.31l2.12-13.81c.3-3.07,0-6.37-3.77-7.24l-2.6-.19-1.06-7.43-2.99-3.8c-.7-.84-.59-2.08.24-2.78l4.87-1.92,7.43-8.5,2.12-8.5c0-6.37-1.06-8.5-1.06-15.93l-4.3-10.73-8.25-16.51c-.08-.16-.4-.29-.69-.2l-5.86,1.95-9.56-1.06-8.5,2.12c-4.33,2.36-4.59,1.28-7.06-.2l-1.44-1.92c-2.12-2.12-2.09-1.78-4.25-1.06l-4.25,2.12-3.19,2.12h-8.5l-4.25,4.25-.11.27c-.18,3.99-2.92,6.28-7.39,5.84l-3,.44-.88.46c-1.83.92-3.1,2.82-3.09,4.76,0,.2.03.39.07.59l.59,4.63-1.06,31.86,5.31,3.19v7.43l-5.31,9.56v5.71c.4,1.88-.48,3.49-2.39,4.22l-2.92,1.75v5.31Z"/>
    <path class="cls-1 color-light-grey" d="M200.67,211.91l20.18-2.12h27.61l36.11,7.43,9.56-9.56,6.23-2.29,4.91-4.91c.31-.32.59-.6,1.19-1.06l6.41-3.47,1.52-5.2-5.74-4.23-.08-.2c-.76-1.86-2.52-3.05-4.43-3.15-.81-.05-1.62.18-2.35.53l-1.28.61-1.37,1.67c-2.88,1.52-3.94.46-4.76-1.23l-.25-1.5v-3.15c0-.7-.3-1.36-.83-1.82l-.46-.41c-1.16-1.02-2.62-1.64-4.16-1.78l-.36-.03c-1.74-.16-3.49.24-5,1.13l-2.31,1.37-5.71.36c-.67.04-1.1.72-.86,1.34l2.71,7.24-3.02,4.53c-.25.38-.68.83-1.18,1.27-1.49,1.28-3.69,1.29-5.26.11l-2.22-1.66-7.43-1.06-7.67-3.42h-6.34l-16.42-4.15-11.07-.21-7.4-6.54-11.63.5,4.23,10.39,1.06,16.34-2.1,8.32Z"/>
    <path class="cls-1 color-dark" d="M186.87,308.55l7.43,1.77,7.43-6.02h7.67l5.08-2.12,1.06-8.5-3.19-8.5,11.68,3.19,4.25,5.31,12.74,7.43,8.5,1.06,7.43-1.06,9.56,1.06,1.06-12.74-.98-4.76c-.73-1.71-.76-3.65-.07-5.38l3.17-7.91,7.43-10.62,6.37-3.19,1.06-3.19-2.12-6.37v-7.43l-1.06-7.43v-4.25l3.19,2.12h1c1.42,0,2.79-.49,3.88-1.39l.9-.73v-8.5l-5.77-3.19-36.11-7.43h-27.84l-19.95,2.12-6.92,8.5-5.51,2.43c-.69.38-.82,1.31-.27,1.86l3.14,4.2,1.06,7.43h3.19c2.12,1.06,3.1,2.92,2.97,5.81l-1.87,17.88c-.02.47-.24.91-.59,1.21l-.78.67c-.67.57-1.54.85-2.42.77l-8.35-.75c-.78-.07-1.53-.31-2.2-.71l-7.72-4.61c-2.24-1.44-4.88-2.12-7.54-1.95l-7.64.48c-.9.14-1.3,1.22-.7,1.91l7.12,7.97,2.12,2.12c2.72,1.93,2.74,5.3,2.05,8.56l-3.12,13.74,12.74,4.25,1.28.85c2.98,1.71,3.96,4.56,5.09,9.77l1.06,4.25Z"/>
    <path class="cls-1 color-light-grey" d="M43.5,312.44l2.1-2.22c.78-.83,1.88-1.3,3.02-1.3h1.73c.59,0,1.17.2,1.63.56l.2.16c.57.44,1.26.7,3.02.8l5.68.3,3.26,1.7,17.59,9.5,12.51,10.52c.55.47.42,2.19.3,3.6-.08,1.04.12,2.08.59,3.01l1.47,2.92h4.25l4.25-7.39v-3.17l-3.46-3.17c-.48-.63-.53-1.49-.12-2.18l2.11-1.77,5.72-.27,6.74,1.41,3.88.7h9.56l12.74,6.33,4.39-.1,2.04-1.35c.74-.49,1.62-.75,2.52-.73l2.73.06,3.19-2.11v-4.25l2.12-1.03c.64-.96,1.86-2.07,1.06-3.17-.35-.48-2.12-2.11-2.12-2.11v-3.17c.32-1.29,2.12-2.11,3.19-2.11h2.12l2.69-1.34c1.01-.5,2.16-.63,3.25-.35l2.56.64h5.36c.65,0,1.27-.26,1.73-.71l2.47-2.45h4.9l-.65-5.28-1.06-3.17c-1.06-3.17-2.12-5.28-7.43-7.39l-10.62-3.17,2.12-8.44c.94-2.79,1.91-5.74,1.49-8.66l-.2-1.37c-.15-1.03-.63-1.98-1.36-2.71l-3.11-3.09-3.19,3.17v6.33l-4.25,2.11-2.84-4.23c-.93-1.39-2.15-2.56-3.58-3.43l-.33-.2c-.79-.26-1.64-.27-2.43-.03-.52.16-.99.47-1.4.83l-3.23,2.84-9.46-.35-4.42-8.06c-2.73-6.69-2.15-7.36-8.42-8.48l-10.62-1.06-4.25,10.56,1.06,8.44-14.87,1.06-3.1-3.52c-1.43-1.14-3.21-1.76-5.04-1.76l-1.81,1.06c-.43,0-1.43.76-1.73,1.06l-2.12,3.17-.42,3.36c-.41,3.23-2.21,6.12-4.93,7.93l-2.08,1.38-7.43,1.06h-12.28c-1.01,0-2.02.1-3.01.3l-3.82.76-12.74-3.17,11.68,13.72-1.06,12.67Z"/>
    <path class="cls-1 color-dark" d="M314.31,190.75l6.18-7.35-4.07-3.34c-1.93-2.69-1.5-6.28-1.08-9.32l1.06-11.68-6.35-3.42-2.03-2.78c-.72-1.58-.61-3.42.29-4.9l2.58-2.5c1.29-2.59.68-3.39-1.9-4.69l-8.5-3.19-2.12-1.06c-1.85-1.85-2.43-3.28,0-4.25l3.19-1.06,7.97-2.99c.22-.08.25-.38.06-.51l-15.32-10.21c-.08-.06-.09-.17-.03-.24l5.19-4.11,1.06-26.55,1.58-4.74c1.04-2.43,1.19-5.14.43-7.67l-1.88-6.23c-.07-.24-.34-.36-.56-.23l-5.26,3.01c-.98.56-2.24.28-2.89-.65l-.24-.35c-1.11-1.7-2.53-1.89-3.89-.21l-5.42,4.3c-1.16,1.45-2.01,3.27-1.98,5.19l.07,3.96-6.56,19.36-3.58,3.83c-.22.22-.61.07-.61-.25v-10.82h-15.58l-2.21-1.9c-.12-.11-.31-.05-.36.1l-3.07,10.13,3.58,1.46c1.09,1.27,1.72,2.77,1.74,4.34l.27,21.32-1.06,1.06c-1.34.68-2.86,3.11-5.6,1.24l-1.07-.58c-.06-.6-1.36.08-1.51.07l-1.67,5.24,1.06,3.19c.35,3.1,3.18,5.07,6.24,5.43l3.31.95h8.5c3.23-.43,6.58.98,8.49,3.71l3.19,3.72v7.43l-4.25,4.25h-4.25v4.25l3.19,4.25,5.31,4.25,6.97-.65,3.21-1.38c1.57-.67,3.29-.91,4.98-.67l.45.06c1.1.15,2.13.61,2.98,1.32h0c1.26.68,1.65,1.92,1.59,3.45v2.12c.27,3.9,3.24,4.57,5.31,2.12l1.25-1.12,1.42-.47s1.56-.52,1.57-.52c1.06,0,2.9.17,4.01,1.47l1.22,2.31,3.23,2.05,2.16,1.67Z"/>
  </g>
  </symbol>
</svg>

<div class="mini-map">
  <svg id="miniMap" viewBox="0 0 556 440" width="150" height="120">
    <use href="#mini-map-symbol" />
    <rect id="viewportRect" fill="none" stroke="red" stroke-width="1" />
  </svg>
</div>




 <div class="controls">
    <button id="zoomIn">+</button>
    <button id="zoomOut">−</button>
  </div>
</div>
<div id="card-container" style="width: 30%;"></div>
</div>
<div id="tooltip"></div>
<!-- 
<script>
  const svg = document.getElementById("map");
  const container = document.getElementById("map-container");
  let zoomLevel = 0;
  const maxZoom = 2;
  const minZoom = 0;
  const originalViewBox = { x: 0, y: 0 };
  let viewBox = { ...originalViewBox };

  function updateViewBox() {
    svg.setAttribute("viewBox", `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`);
  }

  document.getElementById("zoomIn").addEventListener("click", () => {
    if (zoomLevel < maxZoom) {
      viewBox.x += viewBox.width * 0.1;
      viewBox.y += viewBox.height * 0.1;
      viewBox.width *= 0.8;
      viewBox.height *= 0.8;
      zoomLevel++;
      updateViewBox();
    }
  });

  document.getElementById("zoomOut").addEventListener("click", () => {
    if (zoomLevel > minZoom) {
      viewBox.x -= viewBox.width * 0.125;
      viewBox.y -= viewBox.height * 0.125;
      viewBox.width /= 0.8;
      viewBox.height /= 0.8;
      zoomLevel--;
      updateViewBox();
    }
  });

  // Drag to Pan
  let isDragging = false;
  let startPoint = { x: 0, y: 0 };
  let startViewBox = { ...viewBox };

  container.addEventListener("mousedown", (e) => {
    isDragging = true;
    container.style.cursor = 'grabbing';
    startPoint = { x: e.clientX, y: e.clientY };
    startViewBox = { ...viewBox };
  });

  container.addEventListener("mousemove", (e) => {
    if (!isDragging) return;
    const dx = (e.clientX - startPoint.x) * (viewBox.width / container.clientWidth);
    const dy = (e.clientY - startPoint.y) * (viewBox.height / container.clientHeight);
    viewBox.x = startViewBox.x - dx;
    viewBox.y = startViewBox.y - dy;
    updateViewBox();
  });

  container.addEventListener("mouseup", () => {
    isDragging = false;
    container.style.cursor = 'grab';
  });

  container.addEventListener("mouseleave", () => {
    isDragging = false;
    container.style.cursor = 'grab';
  });
</script>


  <script>
    // Loop through each region
    document.querySelectorAll(".region").forEach(region => {
      const dots = region.querySelectorAll(".map-dot");

      dots.forEach(dot => {
        dot.addEventListener("mouseenter", () => {
          region.classList.add("hover");
        });

        dot.addEventListener("mouseleave", () => {
          region.classList.remove("hover");
        });
      });
    });
  </script>


  <script>
  const regionGroups = document.querySelectorAll('.region-group');

  regionGroups.forEach(group => {
    const circle = group.querySelector('.circle');

    circle.addEventListener('click', () => {
      // Remove zoom from other regions
      regionGroups.forEach(g => g.classList.remove('zoomed'));

      // Zoom this region
      group.classList.add('zoomed');
    });
  });
</script> -->


<script>
  const svg = document.getElementById("map");
  const container = document.getElementById("map-container");
   let zoomLevel = 0;
  const maxZoomLevel = 3;
  let viewBox = { x: 0, y: 0, width: 556, height: 440 };

function updateViewBox() {
  // Clamp x and y to prevent moving outside the bounds
  const maxX = 556 - viewBox.width;
  const maxY = 440 - viewBox.height;
  
  viewBox.x = clamp(viewBox.x, 0, Math.max(0, maxX));
  viewBox.y = clamp(viewBox.y, 0, Math.max(0, maxY));

  svg.setAttribute("viewBox", `${viewBox.x} ${viewBox.y} ${viewBox.width} ${viewBox.height}`);
  updateMiniMapView();
}

// function updateMiniMapView() {
//   const miniMap = document.getElementById("miniMap");
//   const rect = document.getElementById("viewportRect");

//   const scaleX = 150 / 556;
//   const scaleY = 120 / 440;

//   rect.setAttribute("x", viewBox.x * scaleX);
//   rect.setAttribute("y", viewBox.y * scaleY);
//   rect.setAttribute("width", viewBox.width * scaleX);
//   rect.setAttribute("height", viewBox.height * scaleY);
// }


// function updateMiniMapView() {
//   const rect = document.getElementById("viewportRect");
//   const miniMap = document.getElementById("miniMap");

//   const miniMapWidth = miniMap.clientWidth; // 150
//   const miniMapHeight = miniMap.clientHeight; // 120

//   const fullMapWidth = 556;
//   const fullMapHeight = 440;

//   const scaleX = miniMapWidth / fullMapWidth;
//   const scaleY = miniMapHeight / fullMapHeight;

//   // Scale the viewBox values to minimap scale
//   const x = viewBox.x * scaleX;
//   const y = viewBox.y * scaleY;
//   const width = viewBox.width * scaleX;
//   const height = viewBox.height * scaleY;

//   rect.setAttribute("x", x);
//   rect.setAttribute("y", y);
//   rect.setAttribute("width", width);
//   rect.setAttribute("height", height);
// }

function updateMiniMapView() {
  const rect = document.getElementById("viewportRect");

  const miniMapViewBox = { width: 556, height: 440 }; // match your miniMap viewBox
  const fullMapViewBox = { width: 556, height: 440 }; // match your main map viewBox

  const scaleX = miniMapViewBox.width / fullMapViewBox.width;
  const scaleY = miniMapViewBox.height / fullMapViewBox.height;

  rect.setAttribute("x", viewBox.x * scaleX);
  rect.setAttribute("y", viewBox.y * scaleY);
  rect.setAttribute("width", viewBox.width * scaleX);
  rect.setAttribute("height", viewBox.height * scaleY);
}




function clamp(value, min, max) {
  return Math.max(min, Math.min(value, max));
}


  document.getElementById("zoomIn").addEventListener("click", () => {
    if (zoomLevel < maxZoomLevel) {
    viewBox.x += viewBox.width * 0.1;
    viewBox.y += viewBox.height * 0.1;
    viewBox.width *= 0.8;
    viewBox.height *= 0.8;
     zoomLevel++;
    updateViewBox();
    }
  });

  document.getElementById("zoomOut").addEventListener("click", () => {
    if (zoomLevel > 0) {
    viewBox.x -= viewBox.width * 0.125;
    viewBox.y -= viewBox.height * 0.125;
    viewBox.width /= 0.8;
    viewBox.height /= 0.8;
     zoomLevel--;
    updateViewBox();
    }
  });

  // // Drag to pan
  // let isDragging = false;
  // let start = { x: 0, y: 0 };
  // let startViewBox = { ...viewBox };

  // svg.addEventListener("mousedown", e => {
  //   isDragging = true;
  //   start = { x: e.clientX, y: e.clientY };
  //   startViewBox = { ...viewBox };
  //   svg.style.cursor = "grabbing";
  // });

  // svg.addEventListener("mousemove", e => {
  //   if (!isDragging) return;
  //   const dx = (e.clientX - start.x) * (viewBox.width / svg.clientWidth);
  //   const dy = (e.clientY - start.y) * (viewBox.height / svg.clientHeight);
  //   viewBox.x = startViewBox.x - dx;
  //   viewBox.y = startViewBox.y - dy;
  //   updateViewBox();
  // });

  // window.addEventListener("mouseup", () => {
  //   isDragging = false;
  //   svg.style.cursor = "grab";
  // });


  // Drag to pan
let isDragging = false;
let start = { x: 0, y: 0 };
let startViewBox = { ...viewBox };

svg.addEventListener("mousedown", e => {
  isDragging = true;
  start = { x: e.clientX, y: e.clientY };
  startViewBox = { ...viewBox };
  svg.style.cursor = "grabbing"; // set grabbing on mouse down
});

svg.addEventListener("mousemove", e => {
  if (!isDragging) return;
  const dx = (e.clientX - start.x) * (viewBox.width / svg.clientWidth);
  const dy = (e.clientY - start.y) * (viewBox.height / svg.clientHeight);
  viewBox.x = startViewBox.x - dx;
  viewBox.y = startViewBox.y - dy;
  updateViewBox();
});

window.addEventListener("mouseup", () => {
  if (isDragging) {
    isDragging = false;
    svg.style.cursor = "default"; // reset back to default
  }
});
svg.addEventListener("mouseleave", () => {
  if (isDragging) {
    isDragging = false;
    svg.style.cursor = "default";
  }
});


  updateViewBox();
</script>

<!-- Hover Effects & Click Zoom -->
<script>
  const regionGroups = document.querySelectorAll('.region-group');

  regionGroups.forEach(group => {
    const dots = group.querySelectorAll('.map-dot');

    // Hover effect
   const hoverTargets = group.querySelectorAll('.map-dot, text');

hoverTargets.forEach(el => {
  el.addEventListener("mouseenter", () => group.classList.add("hover"));
  el.addEventListener("mouseleave", () => group.classList.remove("hover"));
  el.addEventListener("click", () => {
    regionGroups.forEach(g => g.classList.remove("zoomed"));
    group.classList.add("zoomed");
  });
});

  });
</script>

<!-- Tooltip -->
<script>
  const tooltip = document.getElementById("tooltip");

window.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll('.map-dot').forEach(dot => {
    dot.addEventListener('mouseenter', () => {
      const projectKey = dot.dataset.project;
      const data = projectCards?.[projectKey];
      if (data) {
        createCard(data);
      }
    });

    dot.addEventListener('mouseleave', () => {
      document.getElementById('card-container').innerHTML = '';
    });

    // 🔍 Add this:
    dot.addEventListener('click', () => {
      const cx = parseFloat(dot.getAttribute("cx"));
      const cy = parseFloat(dot.getAttribute("cy"));

      while (zoomLevel < maxZoomLevel) {
        viewBox.x += viewBox.width * 0.1;
        viewBox.y += viewBox.height * 0.1;
        viewBox.width *= 0.8;
        viewBox.height *= 0.8;
        zoomLevel++;
      }

      viewBox.x = cx - viewBox.width / 2;
      viewBox.y = cy - viewBox.height / 2;

      updateViewBox();
    });
  });
});

</script>



<script>
  function createCard({ bgColor, header, imageUrl, title, location, date, value }) {
    const container = document.getElementById('card-container');
    const card = document.createElement('div');
    card.className = 'card';
    card.style.backgroundColor = bgColor;

    card.innerHTML = `
      <div class="card-header">${header}</div>
      <div class="card-image">
        <img src="${imageUrl}" alt="Project Image">
      </div>
      <div class="card-content">
        <div class="card-title">${title}</div>
        <div class="card-details">
          Location – ${location}<br>
          Date – ${date}<br>
          Value – ${value}
        </div>
      </div>
    `;

    container.innerHTML = ''; // Clear previous cards
    container.appendChild(card);
  }

  // Wait until DOM and product data are ready
  window.addEventListener("DOMContentLoaded", () => {
    document.querySelectorAll('.map-dot').forEach(dot => {
      dot.addEventListener('mouseenter', () => {
        const projectKey = dot.dataset.project;
        const data = projectCards?.[projectKey];
        if (data) {
          createCard(data);
        }
      });

      dot.addEventListener('mouseleave', () => {
        document.getElementById('card-container').innerHTML = '';
      });
    });
  });
</script>

<script src="product.js"></script>
</body>
</html>